'use client';
import { motion } from "framer-motion";

export default function ExploitationAnimation() {
  return (
    <div className="relative w-full h-[340px] md:h-[400px] bg-gradient-to-br from-[#181924] to-[#23242e] overflow-visible rounded-xl flex items-center">
      <svg viewBox="0 0 400 340" className="absolute left-0 top-0 w-[400px] h-[340px] z-0">
        {/* Crosshair */}
        <g>
          <circle cx="250" cy="180" r="60" stroke="#38bdf8" strokeWidth="4" fill="none" opacity="0.18" />
          <circle cx="250" cy="180" r="36" stroke="#38bdf8" strokeWidth="2" fill="none" opacity="0.25" />
          {/* Cross lines */}
          <line x1="250" y1="120" x2="250" y2="240" stroke="#38bdf8" strokeWidth="3" opacity="0.5" />
          <line x1="190" y1="180" x2="310" y2="180" stroke="#38bdf8" strokeWidth="3" opacity="0.5" />
          {/* Crosshair ticks */}
          {[0, 90, 180, 270].map((deg, i) => (
            <line
              key={i}
              x1={250 + 60 * Math.cos((deg * Math.PI) / 180)}
              y1={180 + 60 * Math.sin((deg * Math.PI) / 180)}
              x2={250 + 70 * Math.cos((deg * Math.PI) / 180)}
              y2={180 + 70 * Math.sin((deg * Math.PI) / 180)}
              stroke="#38bdf8"
              strokeWidth="4"
              opacity="0.7"
            />
          ))}
          {/* Center pulse */}
          <motion.circle cx="250" cy="180" r="12" fill="#38bdf8" animate={{ r: [12, 18, 12], opacity: [0.7, 0.2, 0.7] }} transition={{ repeat: Infinity, duration: 2 }} />
        </g>
        {/* Bug target */}
        <g>
          <motion.circle cx="100" cy="120" r="22" fill="#ff2a2a" opacity="0.18" animate={{ r: [22, 30, 22], opacity: [0.18, 0.08, 0.18] }} transition={{ repeat: Infinity, duration: 2 }} />
          <motion.circle cx="100" cy="120" r="14" fill="#ff2a2a" animate={{ r: [14, 18, 14], opacity: [0.7, 0.2, 0.7] }} transition={{ repeat: Infinity, duration: 2 }} />
          <text x="100" y="126" textAnchor="middle" fontSize="22" fontFamily="monospace" fill="#fff">&#128027;</text>
        </g>
        {/* Trace line from bug to crosshair */}
        <motion.polyline
          points="100,120 140,150 180,170 250,180"
          fill="none"
          stroke="#ff2a2a"
          strokeWidth="3"
          strokeDasharray="6 6"
          initial={{ opacity: 0.5 }}
          animate={{ opacity: [0.5, 1, 0.5] }}
          transition={{ repeat: Infinity, duration: 2 }}
        />
        {/* CVE label */}
        <g>
          <rect x="50" y="90" width="90" height="28" rx="10" fill="#181924" stroke="#ff2a2a" strokeWidth="2" />
          <text x="95" y="110" fill="#ff2a2a" fontSize="15" fontFamily="monospace" textAnchor="middle">CVE-2021-44228</text>
        </g>
      </svg>
    </div>
  );
} 